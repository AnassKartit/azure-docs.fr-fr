---
title: Utilisation du scanneur d’évaluation des vulnérabilités intégré d’Azure Security Center pour les serveurs SQL Server
description: Découvrez Azure Defender pour serveurs SQL Server sur le scanneur d’évaluation des vulnérabilités intégré des machines
author: memildin
ms.author: memildin
manager: rkarlin
ms.service: security-center
ms.topic: how-to
ms.date: 03/04/2021
ms.openlocfilehash: 5b610f98ea2bda5190464a881b750eed9f215857
ms.sourcegitcommit: 867cb1b7a1f3a1f0b427282c648d411d0ca4f81f
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/20/2021
ms.locfileid: "102107023"
---
# <a name="using-the-integrated-vulnerability-assessment-scanner-for-your-sql-servers"></a>Utilisation du scanneur d’évaluation des vulnérabilités intégré pour vos serveurs SQL

**Azure Defender pour les serveurs SQL Server sur les machines** étend les protections de vos serveurs SQL Azure natifs pour prendre en charge les environnements hybrides et protéger les serveurs SQL (toutes les versions prises en charge) hébergés dans Azure, d’autres environnements cloud et même les machines locales :
- [SQL Server sur les machines virtuelles](https://azure.microsoft.com/services/virtual-machines/sql-server/)
- Serveurs SQL locaux :
  - [SQL Server avec Azure Arc (préversion)](/sql/sql-server/azure-arc/overview)
  - [SQL Server exécuté sur des machines Windows sans Azure Arc](../azure-monitor/agents/agent-windows.md)

Le [scanneur d’évaluation des vulnérabilités](../azure-sql/database/sql-vulnerability-assessment.md) intégré découvre et suit les vulnérabilités de base de données potentielles, et vous aide à les corriger. Les résultats des analyses d’évaluation fournissent une vue d’ensemble de l’état de sécurité de vos machines SQL, ainsi que des détails sur les résultats en matière de sécurité.

## <a name="explore-vulnerability-assessment-reports"></a>Explorer les rapports d’évaluation des vulnérabilités

Le service d’évaluation des vulnérabilités analyse vos bases de données une fois par semaine. Les analyses s’exécutent le même jour de la semaine que celui où vous avez activé le service.

Le tableau de bord d’évaluation des vulnérabilités fournit une vue d’ensemble des résultats de votre évaluation dans toutes vos bases de données, ainsi qu’un résumé des bases de données intègres et non intègres, et un résumé global des vérifications ayant échoué en fonction de la distribution des risques.

Vous pouvez consulter les résultats de l’évaluation des vulnérabilités directement à partir de Security Center.

1. Dans la barre latérale de Security Center, ouvrez la page **Recommandations**.

1. Sélectionnez la recommandation **Les résultats de l’évaluation des vulnérabilités de vos serveurs SQL sur des machines doivent être corrigés (préversion)** . Pour plus d’informations, consultez la [page de référence sur les recommandations de Security Center](security-center-recommendations.md). 

    :::image type="content" source="./media/security-center-advanced-iaas-data/data-and-storage-sqldb-vulns-on-vm.png" alt-text="Les résultats de l’évaluation des vulnérabilités de vos serveurs SQL sur des machines doivent être corrigés (préversion)":::

    L’affichage détaillé de cette recommandation s’affiche.

    :::image type="content" source="./media/defender-for-sql-on-machines-vulnerability-assessment/sql-vulnerability-findings.png" alt-text="Vue détaillée de la suggestions":::

1. À explorer pour plus de détails :

    - Pour obtenir une vue d’ensemble des ressources analysées (bases de données) ainsi que la liste des vérifications de sécurité qui ont été testées, ouvrez les **ressources affectées**, puis sélectionnez le serveur qui vous intéresse.

    - Pour obtenir une vue d’ensemble des vulnérabilités regroupées en fonction d’une base de données SQL spécifique, sélectionnez la base de données de votre choix.

    Dans chaque affichage, les vérifications de sécurité sont triées par **Gravité**. Sélectionnez une vérification de sécurité spécifique pour afficher un volet d’informations contenant une **Description**, une méthode de **Correction**, ainsi que d’autres informations associées, telles que l’**Impact** ou les **Références**.

## <a name="view-vulnerabilities-in-graphical-interactive-reports"></a>Afficher les vulnérabilités dans des rapports graphiques interactifs

La galerie intégrée Classeurs Azure Monitor de Security Center inclut un rapport interactif de toutes les résultats des scanneurs de vulnérabilités pour les machines, les conteneurs dans les registres de conteneurs et les serveurs SQL Server.

Les résultats de chacun de ces scanneurs sont rapportés dans des recommandations séparées :

- Les vulnérabilités de vos machines virtuelles doivent être corrigées
- Les vulnérabilités dans les images Azure Container Registry doivent être corrigées (avec Qualys)
- Les résultats de l’évaluation des vulnérabilités sur vos bases de données SQL doivent être corrigés
- Les résultats de l’évaluation des vulnérabilités sur vos serveurs SQL sur des machines doivent être corrigés

Le rapport « Résultats de l’évaluation des vulnérabilités » rassemble tous ces résultats et les organise par gravité, type de ressource et catégorie. Le rapport se trouve dans la galerie de classeurs disponible dans la barre latérale de Security Center.

:::image type="content" source="media/defender-for-sql-on-machines-vulnerability-assessment/vulnerability-assessment-findings-report-sql.png" alt-text="Rapport Résultats de l’évaluation des vulnérabilités de Security Center":::


## <a name="disable-specific-findings-preview"></a>Désactivation de certains résultats (préversion)

Si votre organisation préfère ignorer un résultat, plutôt que de le corriger, vous avez la possibilité de désactiver cette fonction. Les résultats désactivés n’ont pas d’impact sur votre Niveau de sécurité ni ne génèrent de bruit indésirable.

Les résultats correspondant aux critères définis dans vos règles de désactivation n’apparaissent pas dans la liste des résultats. Voici quelques exemples de scénarios courants :

- Désactiver les résultats de gravité inférieure à moyenne
- Désactiver les résultats qui ne peuvent pas être corrigés
- Désactiver les résultats de points de référence ne présentant pas d’intérêt pour une étendue définie

> [!IMPORTANT]
> Pour créer une règle, vous devez disposer de l’autorisation de modifier une stratégie dans Azure Policy. Pour plus d’informations, consultez [Autorisations Azure RBAC dans Azure Policy](../governance/policy/overview.md#azure-rbac-permissions-in-azure-policy).

Pour créer une règle :

1. Dans la page de détail des recommandations **Les résultats de l’évaluation des vulnérabilités sur vos serveurs SQL sur des machines doivent être corrigés**, sélectionnez **Désactiver la règle**.

1. Sélectionnez l’étendue nécessaire.

1. Définissez vos critères. Les critères suivants peuvent être utilisés : 
    - ID de résultat 
    - severity 
    - Benchmarks 

    :::image type="content" source="./media/defender-for-sql-on-machines-vulnerability-assessment/disable-rule-vulnerability-findings-sql.png" alt-text="Créer une règle de désactivation pour les résultats de l’évaluation des vulnérabilités sur les serveurs SQL Server sur des machines":::

1. Sélectionnez **Appliquer la règle**. Jusqu’à 24 heures peuvent être nécessaires pour que les modifications soient effectives.

1. Pour afficher, remplacer ou supprimer une règle : 

    1. Sélectionnez **Désactiver une règle**.

    1. Dans la liste des étendues, les abonnements présentant des règles actives apparaissent avec la mention **Règle appliquée**.

        :::image type="content" source="./media/remediate-vulnerability-findings-vm/modify-rule.png" alt-text="Modification ou suppression d’une alerte":::

    1. Pour afficher ou supprimer la règle, sélectionnez le menu de points de suspension (« … »).

## <a name="next-steps"></a>Étapes suivantes

Apprenez-en davantage sur les protections de Security Center pour les ressources SQL dans [Présentation d’Azure Defender pour SQL](defender-for-sql-introduction.md).