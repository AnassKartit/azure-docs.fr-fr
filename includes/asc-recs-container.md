---
author: memildin
ms.service: security-center
ms.topic: include
ms.date: 06/14/2021
ms.author: memildin
ms.custom: generated
ms.openlocfilehash: afd836a3a4c9b9ad466b284d62b9f016991d637d
ms.sourcegitcommit: 23040f695dd0785409ab964613fabca1645cef90
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 06/14/2021
ms.locfileid: "112083775"
---
Cette catégorie compte **23** recommandations.

|Recommandation |Description |Gravité |
|---|---|---|
|\[Activer si nécessaire\] : les registres de conteneur doivent être chiffrés avec une clé gérée par le client (CMK) |*** <br> Les recommandations relatives à l’utilisation de clés gérées par le client pour le chiffrement de données au repos ne sont pas évaluées par défaut, mais sont disponibles pour permettre les scénarios applicables. Puisque les données sont chiffrées automatiquement à l’aide de clés gérées par la plateforme, l’utilisation de clés gérées par le client doit uniquement être appliquée lorsqu’elle est rendue obligatoire par des exigences de conformité ou de stratégie restrictive. <br> Pour activer cette recommandation, accédez à votre Stratégie de sécurité pour l’étendue applicable et mettez à jour le paramètre *Effet* de la stratégie correspondante afin d’auditer ou d’appliquer l’utilisation des clés gérées par le client. Pour plus d’informations, consultez <a href='https://docs.microsoft.com/azure/security-center/tutorial-security-policy'>cette aide</a>. <br>*** <br> Utilisez des clés gérées par le client pour gérer le chiffrement au repos du contenu de vos registres. Par défaut, les données sont chiffrées au repos avec des clés gérées par le service, mais des clés gérées par le client (CMK) sont généralement requises pour répondre aux normes de conformité réglementaire. Les CMK permettent de chiffrer les données avec une clé Azure Key Vault que vous avez créée et dont vous êtes le propriétaire. Vous avez le contrôle total et la responsabilité du cycle de vie des clés, notamment leur permutation et leur gestion. Pour en savoir plus sur le chiffrement par clés gérées par le client, consultez https://aka.ms/acr/CMK.<br />(Stratégie associée : [Les registres de conteneurs doivent être chiffrés avec une clé gérée par le client (CMK)](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f5b9159ae-1701-4a6f-9a7a-aa9c8ddd0580)) |Faible |
|Azure Defender pour les registres de conteneurs doit être activé |Pour créer des charges de travail en conteneur sécurisées, vérifiez que les images sur lesquelles elles sont basées sont exemptes de vulnérabilités connues.<br>Azure Defender pour les registres de conteneurs analyse votre registre à la recherche de failles de sécurité sur chaque image de conteneur envoyée et présente des résultats détaillés par image.<br>Pour améliorer la sécurité de vos conteneurs et les protéger des attaques, activez Azure Defender pour les registres de conteneurs.<br><br>Important : L’application de cette recommandation entraîne des frais liés à la protection de vos registres de conteneurs. Si vous n’avez pas de registre de conteneurs dans cet abonnement, cela n’entraînera aucuns frais.<br>Si vous créez par la suite des registres de conteneurs dans cet abonnement, ceux-ci seront automatiquement protégés, ce qui entraînera des frais.<br> <a href='https://docs.microsoft.com/azure/security-center/azure-container-registry-integration'>En savoir plus sur Azure Defender pour les registres de conteneurs</a><br />(Stratégie associée : [Azure Defender pour les registres de conteneurs doit être activé](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fmicrosoft.authorization%2fpolicyDefinitions%2fc25d9a16-bc35-4e15-a7e5-9db606bf9ed4)) |Élevé |
|Azure Defender pour Kubernetes doit être activé |Azure Defender pour Kubernetes fournit une protection contre les menaces en temps réel pour vos environnements conteneurisés, et génère des alertes en cas d’activités suspectes.<br>Vous pouvez utiliser ces informations pour remédier rapidement aux problèmes de sécurité et améliorer la sécurité de vos conteneurs.<br><br>Important : L’application de cette recommandation entraîne des frais liés à la protection de vos clusters Kubernetes. Si vous n’avez pas de clusters Kubernetes dans cet abonnement, cela n’entraînera aucuns frais.<br>Si vous créez par la suite des clusters Kubernetes dans cet abonnement, ceux-ci seront automatiquement protégés, ce qui entraînera des frais.<br> <a href='https://docs.microsoft.com/azure/security-center/azure-kubernetes-service-integration'>En savoir plus sur Azure Defender pour Kubernetes</a><br />(Stratégie associée : [Azure Defender pour Kubernetes doit être activé](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fmicrosoft.authorization%2fpolicyDefinitions%2f523b5cd1-3e23-492f-a539-13118b6d1e3a)) |Élevé |
|Le module complémentaire Azure Policy pour Kubernetes doit être installé et activé sur vos clusters |L’extension Azure Policy pour Kubernetes étend <a target="_blank" href="https://github.com/open-policy-agent/gatekeeper">Gatekeeper</a> v3, qui est webhook de contrôleur d’admission pour <a target="_blank" href="https://www.openpolicyagent.org/">Open Policy Agent</a> (OPA), afin d’appliquer des mesures et des protections à grande échelle sur vos clusters de manière centralisée et cohérente.<p>Security Center nécessite le module complémentaire pour auditer et appliquer les fonctionnalités de sécurité et la conformité dans vos clusters. <a target="_blank" href="https://docs.microsoft.com/azure/governance/policy/concepts/policy-for-kubernetes">En savoir plus</a></p><p>Nécessite Kubernetes v1.14.0 ou ultérieur.</p><br />(Stratégie associée : [L’extension Azure Policy pour Azure Kubernetes Service (AKS) doit être installée et activée sur vos clusters](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f0a15ec92-a229-4763-bb14-0ea34a568f8d)) |Élevé |
|Les limites de mémoire et du processeur du conteneur doivent être appliquées |L’application des limites de l’UC et de la mémoire empêche les attaques par épuisement des ressources (une forme d’attaque par déni de service).<p>Nous vous recommandons de définir des limites pour les conteneurs afin de garantir que le runtime empêche le conteneur d’utiliser plus que la limite de ressources configurée.</p><br />(Stratégie associée : [Garantir que les limites de ressources de processeur et de mémoire sur les conteneurs ne dépassent pas les limites spécifiées dans un cluster Kubernetes](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2fe345eecc-fa47-480f-9e88-67dcc122b164)) |Medium |
|Les images conteneur doivent être déployées à partir de registres approuvés uniquement |Les images qui s’exécutent sur votre cluster Kubernetes doivent provenir de registres d’images de conteneur connus et surveillés. Les registres approuvés réduisent les risques pour votre cluster en limitant la possibilité d’introduire des vulnérabilités et des problèmes de sécurité inconnus ,ainsi que des images malveillantes.<br />(Stratégie associée : [Garantir que les images conteneur autorisées s’exécutent dans un cluster Kubernetes](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2ffebd0533-8e55-448f-b837-bd0e06f16469)) |Élevé |
|Les registres de conteneurs ne doivent pas autoriser un accès réseau non restreint |Par défaut, les registres de conteneurs Azure acceptent les connexions via Internet à partir d’hôtes situés sur n’importe quel réseau. Pour protéger vos registres contre les menaces potentielles, autorisez l’accès uniquement à partir d’IP publiques ou de plages d’adresses spécifiques. Si votre registre n’a pas de règle IP/de pare-feu ou de réseau virtuel configuré, il apparaîtra dans les ressources non saines. Apprenez-en plus sur les règles réseau de Container Registry aux adresses suivantes : https://aka.ms/acr/portal/public-network et https://aka.ms/acr/vnet.<br />(Stratégie associée : [Les registres de conteneurs ne doivent pas autoriser un accès réseau sans restriction](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2fd0793b48-0edc-4296-a390-4c75d1bdfd71)) |Moyenne |
|Les registres de conteneurs doivent utiliser une liaison privée |Azure Private Link vous permet de connecter votre réseau virtuel aux services Azure sans IP publique au niveau de la source ou de la destination. La plateforme de la liaison privée gère la connectivité entre le consommateur et les services sur le réseau principal Azure. En faisant correspondre des points de terminaison privés à vos registres de conteneur plutôt qu’à l’ensemble du service, vous vous protégez également contre les risques de fuite de données. Pour en savoir plus, rendez-vous à l’adresse suivante : https://aka.ms/acr/private-link.<br />(Stratégie associée : [Les registres de conteneurs doivent utiliser une liaison privée](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2fe8eef0a8-67cf-4eb4-9386-14b0e78733d4)) |Moyenne |
|Tout conteneur avec une élévation des privilèges doit être évité |Les conteneurs ne doivent pas s’exécuter avec une élévation de privilèges vers la racine de votre cluster Kubernetes.<br>L’attribut AllowPrivilegeEscalation détermine si un processus peut obtenir plus de privilèges que son processus parent.<br />(Stratégie associée : [Les clusters Kubernetes ne doivent pas autoriser la réaffectation de privilèges de conteneur](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f1c6e92c9-99f0-4e55-9cf2-0c234dc48f99)) |Medium |
|Éviter les conteneurs partageant des espaces de noms d’hôte sensibles |Pour protéger contre la réaffectation des privilèges en dehors du conteneur, évitez l’accès du pod aux espaces de noms hôtes sensibles (ID de processus hôte et IPC hôte) dans un cluster Kubernetes.<br />(Stratégie associée : [Les conteneurs de cluster Kubernetes ne doivent pas partager l’espace de noms de l’ID de processus hôte ou l’espace de noms IPC hôte](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f47a1ee2f-2a2a-4576-bf2a-e0e36709c2b8)) |Medium |
|Les conteneurs doivent écouter uniquement sur les ports autorisés |Pour réduire la surface d’attaque de votre cluster Kubernetes, restreignez l’accès au cluster en limitant l’accès des conteneurs aux ports configurés.<br />(Stratégie associée : [Garantir que les conteneurs écoutent uniquement sur les ports autorisés dans un cluster Kubernetes](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f440b515e-a580-421e-abeb-b159a61ddcbc)) |Medium |
|Le système de fichiers racine immuable (en lecture seule) doit être appliqué pour les conteneurs |Les conteneurs doivent s’exécuter avec un système de fichiers racine en lecture seule dans votre cluster Kubernetes. Le système de fichiers immuable protège les conteneurs contre les changements au moment de l’exécution, avec des fichiers binaires malveillants ajoutés à PATH.<br />(Stratégie associée : [Les conteneurs de cluster Kubernetes doivent s’exécuter avec un système de fichiers racine en lecture seule](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2fdf49d893-a74c-421d-bc95-c663042e5b80)) |Medium |
|Les clusters Kubernetes doivent être accessibles uniquement par le biais de HTTPS |L’utilisation de HTTPS garantit l’authentification et protège les données en transit contre les attaques par écoute clandestine de la couche réseau. Cette capacité est actuellement en disponibilité générale pour Kubernetes Service (AKS), et en préversion pour le moteur AKS et Kubernetes avec Azure Arc. Pour plus d’informations, consultez https://aka.ms/kubepolicydoc<br />(Stratégie connexe : [Appliquer l’entrée HTTPS dans un cluster Kubernetes](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f1a5b4dca-0b6f-4cf5-907c-56316bc1bf3d)) |Élevé |
|Le serveur de l’API Gestion des services Kubernetes doit être configuré avec un accès restreint |Pour vous assurer que seules les applications de réseaux, de machines ou de sous-réseaux autorisés ont accès à votre cluster, restreignez l’accès à votre serveur d’API Gestion des services Kubernetes. Vous pouvez restreindre l’accès en définissant les plages d’adresses IP autorisées, ou en configurant vos serveurs d’API en tant que clusters privés, comme cela est expliqué dans <a target='_blank' href=https://docs.microsoft.com/azure/aks/private-clusters>https://docs.microsoft.com/azure/aks/private-clusters</a>.<br />(Stratégie associée : [Des plages d’adresses IP autorisées doivent être définies sur Kubernetes Service](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f0e246bcf-5f6f-4f87-bc6f-775d4712c7ea)) |Élevé |
|Les fonctionnalités Linux à privilèges minimum doivent être appliquées pour les conteneurs |Pour réduire la surface d’attaque de votre conteneur, limitez les fonctionnalités Linux et accordez des privilèges spécifiques aux conteneurs sans accorder tous les privilèges de l’utilisateur racine. Nous vous recommandons de supprimer toutes les fonctionnalités, puis d’ajouter celles qui sont obligatoires.<br />(Stratégie associée : [Les conteneurs de cluster Kubernetes doivent utiliser uniquement des fonctionnalités autorisées](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2fc26596ff-4d70-4e6a-9a30-c2506bd2f80c)) |Medium |
|Le remplacement ou la désactivation du profil AppArmor des conteneurs doit être limité |Les conteneurs qui s’exécutent sur votre cluster Kubernetes doivent être limités aux seuls profils AppArmor autorisés.<br>AppArmor (Application Armor) est un module de sécurité Linux qui protège un système d’exploitation et ses applications contre les menaces de sécurité. Pour l’utiliser, un administrateur système associe un profil de sécurité AppArmor à chaque programme.<br />(Stratégie associée : [Les conteneurs de clusters Kubernetes doivent utiliser uniquement des profils AppArmor autorisés](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f511f5417-5d12-434d-ab2e-816901e72a5e)) |Élevé |
|Les conteneurs privilégiés doivent être évités |Les conteneurs privilégiés doivent être évités quand cela est possible afin d’empêcher un accès hôte non restreint.<p>Les conteneurs privilégiés disposent de toutes les fonctionnalités racine d’une machine hôte. Ils peuvent être utilisés comme points d’entrée pour les attaques et diffuser du code malveillant ou des programmes malveillants sur des applications, des hôtes et des réseaux compromis.</p><br />(Stratégie associée : [Ne pas autoriser les conteneurs privilégiés dans un cluster Kubernetes](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f95edb821-ddaf-4404-9732-666045e056b4)) |Medium |
|Le contrôle d’accès en fonction du rôle doit être utilisé sur Kubernetes Service |Pour fournir un filtrage précis des actions que les utilisateurs peuvent effectuer, utilisez le contrôle d’accès en fonction du rôle (RBAC) pour gérer les autorisations dans les clusters Kubernetes Service et configurez les stratégies d’autorisation appropriées. Pour plus d'informations, consultez <a target='_blank' href='https://docs.microsoft.com/azure/aks/concepts-identity#role-based-access-controls-rbac'>Contrôle d'accès en fonction du rôle Azure</a>.<br />(Stratégie associée : [Un contrôle d’accès en fonction du rôle (RBAC) doit être utilisé dans Kubernetes Service](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2fac4a19c2-fa67-49b4-8ae5-0b2e78c49457)) |Élevé |
|L’exécution des conteneurs en tant qu’utilisateur racine doit être évitée |Les conteneurs ne doivent pas s'exécuter en tant qu'utilisateurs racines dans votre cluster Kubernetes. En effet, un processus exécuté en tant qu'utilisateur racine dans un conteneur s'exécute en tant qu'utilisateur racine sur l'hôte. En cas de compromission, un attaquant disposerait d'un accès racine au conteneur et pourrait facilement exploiter les mauvaises configurations.<br />(Stratégie associée : [Les pods et les conteneurs de cluster Kubernetes doivent être exécutés uniquement avec des ID d’utilisateur et de groupe approuvés](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2ff06ddb64-5fa3-4b77-b166-acb36f7f6042)) |Élevé |
|Les services doivent écouter uniquement sur les ports autorisés |Pour réduire la surface d’attaque de votre cluster Kubernetes, restreignez l’accès au cluster en limitant l’accès des services aux ports configurés.<br />(Stratégie associée : [Garantir que les services écoutent uniquement sur les ports autorisés dans un cluster Kubernetes](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f233a2a17-77ca-4fb1-9b6b-69223d272a44)) |Medium |
|L’utilisation du réseau hôte et des ports doit être limitée |Restreignez l’accès des pods au réseau hôte et à la plage de ports hôtes autorisés dans un cluster Kubernetes. Les pods créés avec l’attribut hostNetwork activé partagent l’espace réseau du nœud. Pour éviter tout conteneur compromis d’espionner le trafic réseau, nous vous recommandons de ne pas placer vos pods sur le réseau hôte. Si vous devez exposer un port de conteneur sur le réseau du nœud et si l’utilisation d’un port de nœud de service Kubernetes ne répond pas à vos besoins, une autre possibilité est de spécifier un hostPort pour le conteneur dans les spécifications de pod.<br />(Stratégie associée : [Les pods de cluster Kubernetes doivent utiliser uniquement un réseau hôte et une plage de ports approuvés](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f82985f06-dc18-4a48-bc1c-b9f4f0098cfe)) |Medium |
|L’utilisation de montages de volume HostPath de pod doit être limitée à une liste connue pour restreindre l’accès aux nœuds à partir de conteneurs compromis |Nous vous recommandons d’effectuer les montages de volume pod HostPath dans votre cluster Kubernetes uniquement dans les chemins hôtes autorisés qui sont configurés. En cas de compromission, l’accès au nœud de conteneur à partir des conteneurs doit être restreint.<br />(Stratégie associée : [Les volumes hostPath de pod de cluster Kubernetes doivent utiliser uniquement des chemins d’hôte autorisés](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f098fc59e-46c7-4d99-9b16-64990e543d75)) |Medium |
|Les vulnérabilités dans les images Azure Container Registry doivent être corrigées (avec Qualys) |L’évaluation des vulnérabilités des images conteneur analyse votre registre à la recherche de failles de sécurité et présente des résultats détaillés pour chaque image. La résolution des vulnérabilités peut améliorer significativement la sécurité de vos conteneurs et les protéger contre les attaques.<br />(Stratégie associée : [Les vulnérabilités dans les images Azure Container Registry doivent être corrigées](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f5f0f936f-2f01-4bf5-b6be-d423792fa562)) |Élevé |
|||
